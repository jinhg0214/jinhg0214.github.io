<!doctype html><html lang="ko-KR" data-mode="dark"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="운영체제 4장 - 스레드" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="목차 4.1 개요" /><meta property="og:description" content="목차 4.1 개요" /><link rel="canonical" href="https://jinhg0214.github.io/posts/OS_11_thread/" /><meta property="og:url" content="https://jinhg0214.github.io/posts/OS_11_thread/" /><meta property="og:site_name" content="Dukgukim" /><meta property="og:image" content="https://www.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter4/4_01_ThreadDiagram.jpg" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-03-18T18:30:00+09:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://www.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter4/4_01_ThreadDiagram.jpg" /><meta property="twitter:title" content="운영체제 4장 - 스레드" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-02-07T21:35:57+09:00","datePublished":"2024-03-18T18:30:00+09:00","description":"목차 4.1 개요","headline":"운영체제 4장 - 스레드","image":{"alt":null,"url":"https://www.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter4/4_01_ThreadDiagram.jpg","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://jinhg0214.github.io/posts/OS_11_thread/"},"url":"https://jinhg0214.github.io/posts/OS_11_thread/"}</script><title>운영체제 4장 - 스레드 | Dukgukim</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Dukgukim"><meta name="application-name" content="Dukgukim"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/ko.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=" ></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/avatar.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">Dukgukim</a><p class="site-subtitle fst-italic mb-0">이것저것 기록 블로그</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>홈</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>카테고리</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>태그</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>아카이브</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>정보</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <a href="https://github.com/jinhg0214" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-x-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['',''].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">홈</a> </span> <span>운영체제 4장 - 스레드</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> 포스트</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="검색..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">취소</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>운영체제 4장 - 스레드</h1><div class="post-meta text-muted"> <span> 게시 <time data-ts="1710754200" data-df="YYYY/MM/DD" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2024/03/18 </time> </span> <span> 업데이트 <time data-ts="1738931757" data-df="YYYY/MM/DD" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2025/02/07 </time> </span><div class="mt-3 mb-3"> <a href="https://www.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter4/4_01_ThreadDiagram.jpg" class="popup img-link preview-img shimmer"><img src="https://www.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter4/4_01_ThreadDiagram.jpg" alt="Preview Image" width="1200" height="630" loading="lazy"></a></div><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/jinhg0214">Dukgukim</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="3314 단어" > <em>18 분</em>읽는 시간</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">운영체제 4장 - 스레드</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">바로가기</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">운영체제 4장 - 스레드</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><h1 id="목차">목차</h1><hr /><p>4.1 개요</p><p>4.2 멀티코어 프로그래밍</p><p>4.3 다중 스레드 모델</p><p>4.4 Thread 라이브러리</p><p>4.5 묵시적 쓰레딩</p><p>4.6 스레드 관련 이슈</p><h1 id="41-개요">4.1 개요</h1><hr /><ul><li>Thread : CPU의 기본 실행 단위<li>단일 스레드 프로세스 : 전통적인 프로세스. 한개의 실행 단위로 구성됨<li>다중 스레드 프로세스 :<ul><li>여러개의 실행 스레드를 갖는 프로세스<li>한 프로세스가 동시에 하나 이상의 작업 수행 가능<li>전통적인 프로세스의 확장</ul><li>스레드의 사용 자원</ul><p><a href="https://github.com/jinhg0214/jinhg0214.github.io/assets/70011316/52ef9fdb-4858-4663-a7ec-e0e3c9589acd" class="popup img-link shimmer"><img src="https://github.com/jinhg0214/jinhg0214.github.io/assets/70011316/52ef9fdb-4858-4663-a7ec-e0e3c9589acd" alt="4_1" loading="lazy"></a></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>- 같은 프로세서에 속한 다른 스레드들과 일부 자원 공유
	- code, data, OS 자원(open file, signal)들을 공유함
- stack, CPU register 저장 공간등은 thread 전용 공간 사용
- Thread Control Block(TCB)
	- 스레드에 대한 정보를 보관
	- 프로세스의 PCB와 유사
	- Thread ID, 실행 상태, PC, thread context, stack, thread 메모리 공간 등 - 경량 프로세스 : thread 생성에 필요한 자원이 process 생성에 필요한 자원보다 작음 - 중량 프로세스 : 반대로 thread 가 process 생성보다 더 무거움
</pre></table></code></div></div><h3 id="thread-사용-이유"><span class="me-2">Thread 사용 이유</span><a href="#thread-사용-이유" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>단일 응용 프로그램이 여러개의 작업을 동시에 실행할 필요성을 느낌<ul><li>다중 프로세스는 프로세스 생성 오버헤드 발생<li>스레드 생성에 필요한 자원이 적으므로, 다중 스레드 프로세스가 효율적</ul><li>장점<ul><li>응답성(Responsiveness)<ul><li>사용자에 대한 응답성 증가<li>프로그램 일부가 Block 되거나, 긴 작업을 수행해도 대화형 작업의 계속 진행을 허용</ul><li>자원 공유(Resource Sharing)<ul><li>기본적으로 프로세스의 메모리와 자원을 공유함<li>같은 주소 공간에서 여러개의 다른 작업을 수행하는 스레드 허용<li>커널 서비스 호출 없이 스레드간의 통신이 쉬움</ul><li>경제성(Economy)<ul><li>스레드 생성, 종료, Context Switch에 소요되는 오버헤드가 프로세스에 비해 적음</ul><li>규모 확장성(Scalability), 적응성<ul><li>다중 프로세서 구조에서 스레드들을 병렬 처리 가능<li>규모가 커질수록 성능이 높아짐</ul></ul></ul><h1 id="42-멀티코어-프로그래밍">4.2 멀티코어 프로그래밍</h1><hr /><p><a href="https://github.com/jinhg0214/jinhg0214.github.io/assets/70011316/c559e202-bb1b-4909-a311-7e58a341646d" class="popup img-link shimmer"><img src="https://github.com/jinhg0214/jinhg0214.github.io/assets/70011316/c559e202-bb1b-4909-a311-7e58a341646d" alt="4_2_1" loading="lazy"></a></p><ul><li>단일 코어 시스템에서의 병행(concurrent) 실행<ul><li>T1, T2, T3, T4 가 빠르게 번갈아가면서 실행됨</ul></ul><p><a href="https://github.com/jinhg0214/jinhg0214.github.io/assets/70011316/68986b25-f6dc-4b78-a872-0bedbb64b57b" class="popup img-link shimmer"><img src="https://github.com/jinhg0214/jinhg0214.github.io/assets/70011316/68986b25-f6dc-4b78-a872-0bedbb64b57b" alt="4_2_2" loading="lazy"></a></p><ul><li>멀티코어 시스템에서의 병렬(parallel) 실행<ul><li>코어1과 코어2가 {T1, T3}, {T2, T4}를 각각 나누어 실행</ul><li>병렬(Parallel)과 병행(Concurrency)<ul><li>병렬 시스템 : 동시에 1개 이상의 작업을 수행<li>병행 시스템 : 동시실행 불가. 1개 이상의 작업을 진행하면서, 각각 하나씩 처리</ul><li>암달의 법칙(Amdahl’s Law)<ul><li>N개의 프로세서를 사용하여 얻을 수 있는 가능한 성능 이득을 정리한 공식<li>컴퓨터 시스템의 일부를 개선할 때 전체적으로 얼마만큼의 최대성능이 향상되는지 계산할때 사용함</ul><li>병렬 실행의 유형<ul><li>data parallel : 데이터 부분집합에 대해서 동일한 연산 수행<li>task parallel : 각 프로세서마다 고유한 연산 수행</ul></ul><h1 id="43-다중-스레드-모델">4.3 다중 스레드 모델</h1><hr /><ul><li>사용자 스레드와 커널 스레드<ul><li>User Threads : 커널 지원 없이 사용자 수준에서 thread library에 의해 지원됨<li>Kernel Threads : OS 커널에서 직접 지원되고 관리됨</ul><li>모든 현대 운영체제는 Kernel THreads를 지원함<li>사용자 프로그램 스레드와 커널 스레드간에 연관 관계가 존재함</ul><h5 id="1-many-to-one-모델"><span class="me-2">1. Many-to-One 모델</span><a href="#1-many-to-one-모델" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><p><a href="https://github.com/jinhg0214/jinhg0214.github.io/assets/70011316/0c0b0fc1-6949-47a1-86d3-6c785b372445" class="popup img-link shimmer"><img src="https://github.com/jinhg0214/jinhg0214.github.io/assets/70011316/0c0b0fc1-6949-47a1-86d3-6c785b372445" alt="4_3_1" loading="lazy"></a></p><ul><li>다수의 사용자 스레드 - 하나의 커널 스레드 관계<li>스레드 스케줄링과 동기화가 사용자 공간의 스레드 라이브러리에서 수행됨<li>장점 : 문맥교환이 적고, 동기화 오버헤드가 작아서 효율적<li>단점 :<ul><li>한 스레드가 Blocking System Call을 호출하여 Block되면, 전체 프로세스가 블럭됨<ul><li>커널이 user-level 스레드의 존재를 알지 못함</ul><li>멀티프로세서 시스템에서 스레드들의 병렬 실행 불가</ul><li>Solaris Green Threads, GNU Portable Thread 등</ul><h5 id="2-one-to-one-모델"><span class="me-2">2. One-to-One 모델</span><a href="#2-one-to-one-모델" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><p><a href="https://github.com/jinhg0214/jinhg0214.github.io/assets/70011316/8e0c2f45-e244-4afd-8826-3c160a7aa149" class="popup img-link shimmer"><img src="https://github.com/jinhg0214/jinhg0214.github.io/assets/70011316/8e0c2f45-e244-4afd-8826-3c160a7aa149" alt="4_3_2" loading="lazy"></a></p><ul><li>각 사용자 스레드가 한개의 커널 스레드에 연관됨<li>장점 :<ul><li>더 많은 병행, 병렬 실행 가능<ul><li>한 스레드가 blocking system call을 호출하여 블록되어도, 커널은 같은 프로세스의 다른 thread로 스케줄링</ul></ul><li>단점 :<ul><li>스레드 생성 및 문맥교환 오버헤드<ul><li>커널 시스템 호출을 사용하여 커널 스레드를 생성해야함<li>커널에서 thread 문맥교환이 이루어짐<li>최대 thread 수에 제한</ul></ul><li>windows, linux, solaris 9 이후 버전</ul><h5 id="3-many-to-many-모델"><span class="me-2">3. Many-to-Many 모델</span><a href="#3-many-to-many-모델" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><p><a href="https://github.com/jinhg0214/jinhg0214.github.io/assets/70011316/49b0e17f-9af6-4219-92eb-e870f44f6091" class="popup img-link shimmer"><img src="https://github.com/jinhg0214/jinhg0214.github.io/assets/70011316/49b0e17f-9af6-4219-92eb-e870f44f6091" alt="4_3_3" loading="lazy"></a></p><ul><li>다수의 사용자 레벨 스레드가 다수의 커널 스레드에 연관<ul><li>커널 스레드의 수는 사용자 레벨 스레드의 수와 작거나 같음<li>커널 스레드들을 사용자 레벨 스레드들이 Multiplex하여 사용함<ul><li>사용자 라이브러리가 커널 스레드를 할당시켜줌</ul><li>커널 스레드 개수는 응용프로그램이나 기계에 따라 결정됨</ul><li>장점 :<ul><li>one-to-one 모델과 같은 병행/병렬성<ul><li>필요한 만큼의 커널 스레드와 연관되는 경우<ul><li>Blocking System Call을 호출하여 블록되어도, 다른 thread를 스케줄</ul></ul><li>사용자 스레드 개수보다 적은 커널 스레드를 사용할 수 있어, 커널 스레드 수의 제한에 영향이 없</ul></ul><p><a href="https://github.com/jinhg0214/jinhg0214.github.io/assets/70011316/a304ef94-c752-44e9-bd1f-44060a5bce4d" class="popup img-link shimmer"><img src="https://github.com/jinhg0214/jinhg0214.github.io/assets/70011316/a304ef94-c752-44e9-bd1f-44060a5bce4d" alt="4_3_4" loading="lazy"></a></p><h5 id="4-two-level-모델"><span class="me-2">4. Two-Level 모델</span><a href="#4-two-level-모델" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><p><a href="https://github.com/jinhg0214/jinhg0214.github.io/assets/70011316/4e120b60-72fe-458c-b2a8-f45663e94367" class="popup img-link shimmer"><img src="https://github.com/jinhg0214/jinhg0214.github.io/assets/70011316/4e120b60-72fe-458c-b2a8-f45663e94367" alt="4_3_5" loading="lazy"></a></p><ul><li>many-to-many 모델의 변형 모델<li>일부 사용제 스레드에 대해 one-to-one 연관 허용<li>IRIX, HP-UX, Tru64 UNIX, Solaris 8</ul><h1 id="44-thread-라이브러리">4.4 Thread 라이브러리</h1><hr /><ul><li>Thread를 생성하고 관리하기 위한 API 제공<li>Thread 라이브러리 구현<ul><li>user-level library : 완전히 user space 에서 구현<ul><li>library 함수 호출은 user space에서의 함수 호출로 이어짐</ul><li>kernel-level library : 라이브러리의 코드와 데이터가 kernel space에 존재<ul><li>libary 함수 호출은 커널에 대한 system call 호출로 이어짐</ul></ul><li>주로 사용되는 3가지 Thread Libaray<ul><li>POSIX Pthread : user 혹은 kernel level 라이브러리<li>Windows thread : kernel level 라이브러리<li>Java Thread : Java thread API<ul><li>호스트 시스템에서 사용 가능한 thread library로 구현</ul></ul></ul><h3 id="pthreads"><span class="me-2">Pthreads</span><a href="#pthreads" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>UNIX<li>Thread 생성 및 동기화를 위한 POSIX 표준 API (IEEE 1003.1c)<ul><li>스레드 라이브러리의 동작에 대한 명세<li>UNIX 계열 OS에서 일반적으로 제공됨(Solaris, Linux, Mac OS X)</ul><li>주요 함수들<ul><li><code class="language-plaintext highlighter-rouge">pthread_create()</code> : 스레드 생성<li><code class="language-plaintext highlighter-rouge">pthread_join()</code> : 스레드 종료를 기다림<li><code class="language-plaintext highlighter-rouge">pthread_exit()</code> : 스레드 종료<li><code class="language-plaintext highlighter-rouge">pthread_attr_init()</code> : 스레드 attribute를 default 값으로 초기화<li>등등</ul></ul><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;pthread.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span>
<span class="kt">int</span> <span class="n">sum</span><span class="p">;</span> <span class="c1">// 스레드 공유 자원</span>
<span class="kt">void</span> <span class="o">*</span><span class="nf">runner</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">param</span><span class="p">);</span> <span class="c1">// 스레드</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[]){</span>
	<span class="n">pthread_t</span> <span class="n">tid</span><span class="p">;</span> <span class="c1">// 스레드 식별자</span>
	<span class="n">pthread_attr_t</span> <span class="n">attr</span><span class="p">;</span> <span class="c1">// 스레드 attribute 설정</span>

	<span class="c1">// 기본 attribute 설정</span>
	<span class="n">pthread_attr_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">attr</span><span class="p">);</span>
	<span class="c1">// 스레드 생성</span>
	<span class="n">ptrehad_create</span><span class="p">(</span><span class="o">&amp;</span><span class="n">tid</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">attr</span><span class="p">,</span> <span class="n">runner</span><span class="p">,</span> <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
	<span class="c1">// 스레드 종료를 기다림</span>
	<span class="n">pthread_join</span><span class="p">(</span><span class="n">tid</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">printf</span><span class="p">(</span><span class="s">"sum = %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">sum</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// 간단히 sum에 i부터 쭉 더하는 스레드</span>
<span class="kt">void</span> <span class="o">*</span><span class="nf">runner</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">param</span><span class="p">){</span>
	<span class="kt">int</span> <span class="n">upper</span> <span class="o">=</span> <span class="n">atoi</span><span class="p">(</span><span class="n">param</span><span class="p">);</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
	<span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="k">if</span><span class="p">(</span><span class="n">upper</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">){</span>
		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">upper</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
			<span class="n">sum</span> <span class="o">+=</span> <span class="n">i</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">pthread_exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

</pre></table></code></div></div><h3 id="windows-threads"><span class="me-2">Windows Threads</span><a href="#windows-threads" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li><code class="language-plaintext highlighter-rouge">ChreateThread()</code> : 스레드 생성<li><code class="language-plaintext highlighter-rouge">WaitForSingleObject()</code> : 한 스레드 종료를 기다림<li><code class="language-plaintext highlighter-rouge">WaitForMultipleOjbects()</code> : 여러 스레드 종료를 기다림</ul><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
</pre><td class="rouge-code"><pre>
<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="c1"> </span><span class="cp">
#include</span> <span class="cpf">&lt;windows.h&gt;</span><span class="cp">
</span>
<span class="n">DWORD</span> <span class="n">Sum</span><span class="p">;</span> <span class="cm">/* data is shared by the thread(s) */</span>

<span class="cm">/* the thread runs in this separate function */</span> 
<span class="n">DWORD</span> <span class="n">WINAPI</span> <span class="nf">Summation</span> <span class="p">(</span><span class="n">LPVOID</span> <span class="n">Param</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">DWORD</span> <span class="n">Upper</span> <span class="o">=</span> <span class="p">(</span><span class="n">DWORD</span> <span class="o">*</span><span class="p">)</span><span class="n">Param</span><span class="p">;</span>
	<span class="n">DWORD</span> <span class="n">i</span><span class="p">;</span>
	
	<span class="n">printf</span><span class="p">(</span><span class="s">"start Summation Thread...</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span> 
	<span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">Upper</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
		<span class="n">Sum</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[]){</span>
	<span class="n">DWORD</span> <span class="n">ThreadId</span><span class="p">;</span>
	<span class="n">HANDLE</span> <span class="n">ThreadHandle</span><span class="p">;</span> 
	<span class="kt">int</span> <span class="n">Param</span><span class="p">;</span>
	
	<span class="c1">// do some basic error checking </span>
	<span class="k">if</span> <span class="p">(</span><span class="n">argc</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">"An integer parameter is required</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span> 
		<span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="n">Param</span> <span class="o">=</span> <span class="n">atoi</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
	
	<span class="k">if</span> <span class="p">(</span><span class="n">Param</span> <span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">"an integer &gt;= 0 is required </span><span class="se">\n</span><span class="s">"</span><span class="p">);</span> 
		<span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="c1">// create the thread</span>
	<span class="n">ThreadHandle</span> <span class="o">=</span> <span class="n">CreateThread</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Summation</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">Param</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">ThreadId</span><span class="p">);</span>
	
	<span class="k">if</span> <span class="p">(</span><span class="n">ThreadHandle</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">WaitForSingleObject</span><span class="p">(</span><span class="n">ThreadHandle</span><span class="p">.</span> <span class="n">INFINITE</span><span class="p">)</span><span class="o">:</span>
		<span class="n">CloseHandle</span><span class="p">(</span><span class="n">ThreadHandle</span><span class="p">)</span>
		<span class="n">printf</span><span class="p">(</span><span class="s">"sum = %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">Sum</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><h3 id="java-threads"><span class="me-2">Java Threads</span><a href="#java-threads" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>자바 스레드는 운여체제가 아닌 Java 언어 수준에서 지원하고 JVM이 관리함<li>main() method만으로 구성된 자바 프로그램은 JVM에서 단일 thread로 실행됨<li>Thread 생성 방법<ul><li>Extending Thread class(파생 클래스 생성)<li>Implementing the Runnable Interface(인터페이스 구현)</ul></ul><h1 id="45-묵시적-스레딩">4.5 묵시적 스레딩</h1><hr /><ul><li>Thread의 생성과 관리를 응용 프로그램 개발자가 아닌, <br /> 컴파일러와 런타임 라이브러리에게 넘겨주는 것<li>멀티코어 병렬처리를 사용하는 프로그램 설계에 이용함<li>Open MP, GCD(Grand Central Dispath)는 컴파일러에서 멀티 쓰레딩 지원<ul><li>OpenMP(Open Multi-Porcessing)<ul><li>C, C++, Fortran 컴파일러의 directive와 API로 multithreaded 프로그래밍 지원</ul><li>GCD<ul><li>Apple Mac OS X, iOS운영체제에서 지원<h3 id="thread-pool"><span class="me-2">Thread Pool</span><a href="#thread-pool" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></ul></ul><li>Thread Pool이라는 멀티 쓰레딩 관리 방법 이용<li>Multithread Server에서의 잠재적 문제점<ul><li>스레드 생성 오버헤드 : 요청마다 스레드를 생성하는데 시간이 소요됨<li>스레드 수가 증가에 따른 자원 고갈 가능성 존재. 스레드 수에 제한이 필요<li>해결책으로 Thread Pool 방식을 이용함</ul><li>프로세스를 시작할 때에 일정한 수의 스레드들을 thread Pool에 미리 생성하여 대기<li>요청을 받을 때 마다, Pool에 있는 하나의 스레드를 깨워서 사용함<li>장점<ul><li>빠른 속도 : 기존 스레드를 사용하므로 새 스레드 생성 불필요<li>동시 존재 스레드 수를 제한하여 자원 제한 가능(pool의 크기)<li>task 생성 방법을 task에서 분리하면, task 실행을 주기적 실행, 일정시간 후 실행 등 다양한 방식으로 할 수 있음</ul></ul><h1 id="46-스레드-관련-이슈">4.6 스레드 관련 이슈</h1><hr /><ul><li><code class="language-plaintext highlighter-rouge">fork()</code>(프로세스 생성), <code class="language-plaintext highlighter-rouge">exec()</code>(프로세스 덮어쓰기) 시스템 호출<ul><li>스레드에서 <code class="language-plaintext highlighter-rouge">fork()</code>를 호출할 때의 동작은?<li>두가지 구현 방법이 존재<ol><li>process의 모든 스레드들을 복제한다<li>해당 스레드만 복제한다</ol></ul><li>UNIX에서의 Signal handling<ul><li>Signal :<ul><li>프로세스에 대한 Signal은 CPU에 대한 Interrupt와 유사함<li>UNIX에서 프로세스에게 특정 이벤트 발생을 알려주기 위해 사용<ul><li>동기식 signal : illegal memory access, division by zero<li>비동기식 signal : Ctrl + C 종료 등</ul><li>signal handler : signal 을 처리하기 위해 사용됨<li>signal 은 특정 이벤트에 의해 생성되어 프로세스에게 전달됨<li>프로세스의 signal handler에서 처리됨</ul><li>두 종류의 signal handler<ul><li>default signal handler<li>user-defined signal handler</ul><li>Multithreaded process에서의 signal 전달 옵션<ul><li>signal이 적용될 모든 스레드에게 전달<li>모든 스레드에게 전달<li>일부 thread에게 선택적 전달<li>signal을 전달받을 스레드 지정 등</ul></ul><li>스레드 취소(cancellation)<ul><li>타겟 스레드가 종료되기 전에 스레드를 강제로 중단 시키는 것<li>두가지 취소 방식<ul><li>비동기(asynchronous) 취소 : 즉시 해당 스레드 취소<li>지연(deferred) 취소 : 주기적으로 점검하여 해당 스레드 취소</ul><li>스레드 취소의 어려운 점<ul><li>자원이 할당되어 있거나, 공유 데이터를 갱신하고 있는 스레드를 취소할 때 처리의 어려움<li>비동기 취소 방식에서 자원 회수에 문제 발생 가능성<li>지연 취소 방식에서는 취소 시점(cancellation point)에서 안전한 취소 가능 여부를 검사해야함</ul></ul><li>Thread-Local Storage(TLS)<ul><li>스레드 자신만이 접근 가능한 저장 공간<li>local 변수 : 함수 호출 동안에만 일시적으로 사용 가능<li>static 변수 : 프로그램 실행 동안 함수 내의 기억장소 유지<li>TLS : static 변수와 유사하지만, 각 스레드별로 분리된 기억장소 사용</ul><li>Scheduler Activiations<ul><li>경량 프로세스(lightweight Process :LWP)<ul><li>many-to-many 모델에서는 유저 레벨 스레드와 커널 스레드 사이에 LWP라는 중간 자료구조를 사용하여 연결함<li>각 LWP는 커널 스레드에 연결되며, 유저 스레드 라이브러리에게 가상 프로세서같이 보여짐</ul><li>각 응용에 필요한 LWP 개수. CPU-Bound는 1개, I/O intensive 응용은 여러개 필요<li>Scheduler Activation<ul><li>upcall : 스레드가 블록되거나, 이벤트가 발생하면, 커널에서 시그널을 보내어 스레드 라이브러리의 upcall handler를 호출함<li>upcall handler는 새 LWP를 할당받아 실행되고, 다른 스레드에게 스케줄링함</ul><li>운영체제는 kerenl 스레드를 스케줄링함</ul></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/computer/">Computer</a>, <a href="/categories/os/">OS</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/thread/" class="post-tag no-text-decoration" >thread</a> <a href="/tags/multicore/" class="post-tag no-text-decoration" >multicore</a> <a href="/tags/multiprocess/" class="post-tag no-text-decoration" >multiprocess</a> <a href="/tags/parellel/" class="post-tag no-text-decoration" >parellel</a> <a href="/tags/concurrency/" class="post-tag no-text-decoration" >concurrency</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> 이 기사는 저작권자의 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 라이센스를 따릅니다.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">공유하기</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C%204%EC%9E%A5%20-%20%EC%8A%A4%EB%A0%88%EB%93%9C%20-%20Dukgukim&url=https%3A%2F%2Fjinhg0214.github.io%2Fposts%2FOS_11_thread%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C%204%EC%9E%A5%20-%20%EC%8A%A4%EB%A0%88%EB%93%9C%20-%20Dukgukim&u=https%3A%2F%2Fjinhg0214.github.io%2Fposts%2FOS_11_thread%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fjinhg0214.github.io%2Fposts%2FOS_11_thread%2F&text=%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C%204%EC%9E%A5%20-%20%EC%8A%A4%EB%A0%88%EB%93%9C%20-%20Dukgukim" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="링크 복사하기" data-title-succeed="링크가 복사되었습니다!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">최근 업데이트</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/gitaction/">GitHub Action</a><li class="text-truncate lh-lg"> <a href="/posts/bj-2665/">백준 2665. 미로만들기</a><li class="text-truncate lh-lg"> <a href="/posts/bj-10844/">백준 Bottom-UP DP 문제들 2</a><li class="text-truncate lh-lg"> <a href="/posts/ILI9163C&ST3375/">TFT 디스플레이 라이브러리 : ILI9163C, ST7735</a><li class="text-truncate lh-lg"> <a href="/posts/bj-dp/">백준 DP 문제들 3</a></ul></section><section><h2 class="panel-heading">인기 태그</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/bruteforce/">bruteforce</a> <a class="post-tag btn btn-outline-primary" href="/tags/bfs/">bfs</a> <a class="post-tag btn btn-outline-primary" href="/tags/cpp/">cpp</a> <a class="post-tag btn btn-outline-primary" href="/tags/impl/">impl</a> <a class="post-tag btn btn-outline-primary" href="/tags/graph/">graph</a> <a class="post-tag btn btn-outline-primary" href="/tags/search/">search</a> <a class="post-tag btn btn-outline-primary" href="/tags/dfs/">dfs</a> <a class="post-tag btn btn-outline-primary" href="/tags/sort/">sort</a> <a class="post-tag btn btn-outline-primary" href="/tags/dijkstra/">dijkstra</a> <a class="post-tag btn btn-outline-primary" href="/tags/protocol/">protocol</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">바로가기</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">관련된 글</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/OS_10_ipc/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1710495000" data-df="YYYY/MM/DD" > 2024/03/15 </time><h4 class="pt-0 my-2">운영체제 3장 - 프로세스 연산과 프로세스간 통신</h4><div class="text-muted"><p>3.3 프로세스 연산 프로세스 생성(Creation) 프로세스는 create-process 시스템 호출을 사용하여 새로운 프로세스를 생성함 부모-자식 프로세스 관계 프로세스들은 프로세스 식별자(process identifier, pid)로 구분함 부모 프로세스와 자식 프로세스간의 자원 ...</p></div></div></a></article><article class="col"> <a href="/posts/OS_9_process_program_pcb/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1710491400" data-df="YYYY/MM/DD" > 2024/03/15 </time><h4 class="pt-0 my-2">운영체제 3장 - 프로세스, 프로그램, 프로세스의 상태와 PCB</h4><div class="text-muted"><p>목차 3.1 프로세스 개념 3.2 프로세스 스케쥴링 (5장에서 상세히) 3.3 프로세스 연산 3.4 프로세스간 통신 3.5 IPC 시스탐 사례 - UNIX의 공유 메모리 함수 3.6 클라이언트-서버 시스템에서의 통신 3.1 프로세스 개념 프로세스와 프로그램 프로세스 운영체제로부터 자원을 할당받은 작업의 단위 ...</p></div></div></a></article><article class="col"> <a href="/posts/OS_8/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1709903400" data-df="YYYY/MM/DD" > 2024/03/08 </time><h4 class="pt-0 my-2">운영체제 2장 - 디버깅, 생성, 시스템 부팅</h4><div class="text-muted"><p>2.8 운영체제 디버깅 디버깅 : 오류를 발견하고 수정하기 장애(Failure) 분석 Log 파일 : 프로세스가 실패하면 오류 정보를 기록 Core dump 파일 : 오류 발생 프로세스의 메모리 내용을 저장 초기 컴퓨터에서 메모리를 core라고 불렀다고 함 ...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/OS_10_ipc/" class="btn btn-outline-primary" aria-label="이전 글" ><p>운영체제 3장 - 프로세스 연산과 프로세스간 통신</p></a> <a href="/posts/OS_12_cpu_schedule/" class="btn btn-outline-primary" aria-label="다음 글" ><p>운영체제 5장 - CPU 스케줄링 알고리즘들</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://github.com/jinhg0214">Dukgukim</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다." >일부 권리 보유</span></p><p>Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">인기 태그</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/bruteforce/">bruteforce</a> <a class="post-tag btn btn-outline-primary" href="/tags/bfs/">bfs</a> <a class="post-tag btn btn-outline-primary" href="/tags/cpp/">cpp</a> <a class="post-tag btn btn-outline-primary" href="/tags/impl/">impl</a> <a class="post-tag btn btn-outline-primary" href="/tags/graph/">graph</a> <a class="post-tag btn btn-outline-primary" href="/tags/search/">search</a> <a class="post-tag btn btn-outline-primary" href="/tags/dfs/">dfs</a> <a class="post-tag btn btn-outline-primary" href="/tags/sort/">sort</a> <a class="post-tag btn btn-outline-primary" href="/tags/dijkstra/">dijkstra</a> <a class="post-tag btn btn-outline-primary" href="/tags/protocol/">protocol</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">새 버전의 콘텐츠를 사용할 수 있습니다.</p><button type="button" class="btn btn-primary" aria-label="Update"> 업데이트 </button></div></aside><script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{content}</p></article>', noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
